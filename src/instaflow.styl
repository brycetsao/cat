@charset "UTF-8"

@font-face
  font-family Taipei
  src url("fonts/TaipeiSansTCBeta-Regular.woff2") format("woff2"),
      url("fonts/TaipeiSansTCBeta-Regular.woff") format("woff"),
      url("fonts/TaipeiSansTCBeta-Regular.ttf") format("truetype")

body
  background hsl(200 40% 5%)
  text-align center
  font-family Taipei, sans-serif

image-size = 480px

#instaflow
  position relative
  height image-size
  padding 80px
  overflow hidden
  perspective 2 * image-size

.cover, .description
  width image-size
  height image-size
  position absolute
  z-index 20
  left 50%
  transform translateX(-50%)
  background radial-gradient(
              circle at bottom left,
              hsla(45, 100%, 80%, 0.9) 0%,
              hsla(350, 100%, 65%, 0.8) 50%,
              hsla(300, 50%, 50%, 0.6) 100%)

.cover, .description, .instagram > img
  border-radius 4px
  filter: drop-shadow(2px 4px 8px black)

.description
  opacity 0
  transition 0s
  &:hover
    opacity 0.9
    transition .25s ease .25s

.caption
  width 360px
  position absolute
  top 50%
  left 50%
  transform translate(-50%, -50%)
  padding 5rem
  font-size 18px
  color white
  & > span
    line-height 3rem
    margin 0.5rem
    & > .iconify
      margin-right 0.25rem

.instagram
  pointer-events none
  & > img
    pointer-events auto
    cursor pointer
    width image-size
    height image-size
    position absolute
    left 50%
    transform-origin 50% 50%
    transition all .25s ease

.instagram[position="-5"]
  & > img
    z-index 5
    transform translateX(-810px) scale(1/8)
    opacity 0.3

.instagram[position="-4"]
  & > img
    z-index 6
    transform translateX(-720px) scale(1/5) rotateY(15deg)
    opacity 0.4

.instagram[position="-3"]
  & > img
    z-index 7
    transform translateX(-630px) scale(1/3) rotateY(30deg)
    opacity 0.5

.instagram[position="-2"]
  & > img
    z-index 8
    transform translateX(-540px) scale(1/2) rotateY(45deg)
    opacity 0.6

.instagram[position="-1"]
  & > img
    z-index 9
    transform translateX(-450px) scale(2/3) rotateY(45deg)
    opacity 0.8

.instagram[position="0"]
  pointer-events auto
  & > img
    z-index 10
    transform translateX(-240px)
    opacity 1

.instagram[position="1"]
  & > img
    z-index 9
    transform translateX(-30px) scale(2/3) rotateY(-45deg)
    opacity 0.8

.instagram[position="2"]
  & > img
    z-index 8
    transform translateX(60px) scale(1/2) rotateY(-45deg)
    opacity 0.6

.instagram[position="3"]
  & > img
    z-index 7
    transform translateX(150px) scale(1/3) rotateY(-30deg)
    opacity 0.5

.instagram[position="4"]
  & > img
    z-index 6
    transform translateX(240px) scale(1/5) rotateY(-15deg)
    opacity 0.4

.instagram[position="5"]
  & > img
    z-index 5
    transform translateX(330px) scale(1/8)
    opacity 0.3

.arrow
  cursor pointer
  z-index 30
  position absolute
  top 50%
  padding 1.5rem 2rem
  color rgba(255, 255, 255, 0.5)
  font-size 3rem
  line-height 3rem
  background rgba(0, 0, 0, 0)
  border-radius 1rem
  transform-origin 50% 50%
  transform translateY(-50%)
  transition color 200ms, background 200ms

.arrow:hover, .arrow:focus
  color rgba(255, 255, 255, 0.9)
  background rgba(0, 0, 0, 0.5)

.prev
  left 5%
  &:before
    content "❮"

.next
  right 5%
  &:after
    content "❯"