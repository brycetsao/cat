@charset "UTF-8"

body
  background #081014
  font-family -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif
  text-align center

image-size = 480px

#instaflow
  position relative
  height image-size
  padding 80px
  overflow hidden
  perspective 2 * image-size

.instagram
  pointer-events none
  & > img
    width image-size
    height image-size
    position absolute
    left 50%
    transform-origin 50% 50%
    transition all .25s ease
    pointer-events auto
    cursor pointer
    &::before
      content ""
      z-index 1
      position absolute
      top 300px
      width 100%
      height 10%
      box-shadow 0 0 30px rgba(0, 0, 0, 0.7)


.instagram[position="-5"]
  & > img
    z-index 0
    transform translateX(-810px) scale(1/8)
    opacity (-1/8)

.instagram[position="-4"]
  & > img
    z-index 1
    transform translateX(-720px) scale(1/5) rotateY(15deg)
    opacity (1/8)

.instagram[position="-3"]
  & > img
    z-index 2
    transform translateX(-630px) scale(1/3) rotateY(30deg)
    opacity (1/5)

.instagram[position="-2"]
  & > img
    z-index 3
    transform translateX(-540px) scale(1/2) rotateY(45deg)
    opacity (1/3)

.instagram[position="-1"]
  & > img
    z-index 4
    transform translateX(-450px) scale(2/3) rotateY(45deg)
    opacity (1/2)

.instagram[position="0"]
  pointer-events auto
  & > img
    z-index 5
    transform translateX(-240px)
    opacity 1
    box-shadow 0 1px 25px 10px rgba(0, 0, 0, 0.6)

.instagram[position="1"]
  & > img
    z-index 4
    transform translateX(-30px) scale(2/3) rotateY(-45deg)
    opacity (1/2)

.instagram[position="2"]
  & > img
    z-index 3
    transform translateX(60px) scale(1/2) rotateY(-45deg)
    opacity (1/3)

.instagram[position="3"]
  & > img
    z-index 2
    transform translateX(150px) scale(1/3) rotateY(-30deg)
    opacity (1/5)

.instagram[position="4"]
  & > img
    z-index 1
    transform translateX(240px) scale(1/5) rotateY(-15deg)
    opacity (1/8)

.instagram[position="5"]
  & > img
    z-index 0
    transform translateX(330px) scale(1/8)
    opacity (-1/8)

.description
  width image-size
  height image-size
  position absolute
  z-index 6
  left 50%
  transform translateX(-50%)
  background linear-gradient(45deg, rgba(38, 163, 255, 0.85), rgba(83, 201, 179, 0.85))
  color white
  opacity 0
  transition 0s
  &:hover
    opacity 1
    transition .25s ease .25s

.caption
  width "calc(%s - 10em)" % image-size
  position absolute
  top 50%
  transform translateY(-50%)
  padding 5rem
  & > span
    line-height 3rem
    margin 0.5rem

.arrow
  cursor pointer
  z-index 10
  position absolute
  top 50%
  padding 1.5rem 2rem
  color rgba(255, 255, 255, 0.5)
  font-size 3rem
  line-height 3rem
  background rgba(0, 0, 0, 0)
  border-radius 1rem
  transform-origin 50% 50%
  transform translateY(-50%)
  transition color 200ms, background 200ms

.arrow:hover, .arrow:focus
  color rgba(255, 255, 255, 0.9)
  background rgba(0, 0, 0, 0.5)

.prev
  left 5%
  &:before
    content "❮"

.next
  right 5%
  &:after
    content "❯"